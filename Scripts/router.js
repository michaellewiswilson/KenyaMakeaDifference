var Router = new Class({ _compiled: [], _rules: [], initialize: function (e) { this._rules = e; if (this._rules.length == 0) { return } this._compile() }, _compile: function () { var e = this._rules.length; for (var t = 0; t < e; t++) { var n = [], r = this._rules[t][0].replace(/:[^\/]+/gi, function (e) { n.push(e.substring(1)); return "([^/]+)" }); this._compiled.push({ keys: n, handler: this._rules[t][1], re: new RegExp(r) }) } }, match: function (e) { var t = this._compiled.length, n = {}; for (var r = 0; r < t; r++) { var i = e.match(this._compiled[r].re); if (i) { var s = this._compiled[r].keys, o = this._compiled[r].handler, u = s.length; for (var a = 0; a < u; a++) { n[s[a]] = i[a + 1] } if (o) { o(n) } return n } } } })